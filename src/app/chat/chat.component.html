<!-- Chat component
@if(!!RoomId()) {
<div class="flex flex-col h-full bg-gray-200 p-6 rounded-lg shadow-2xl">
  <div
    class="flex-1 overflow-y-auto p-4 bg-white shadow-inner rounded-lg mb-6"
    style="height: 50vh"
  >
    @for(msg of MessagesWithUser(); track $index) {
    <div class="bg-blue-200 p-4 rounded mb-4">
      <strong class="text-blue-800">{{ msg.user }}:</strong>
      <span class="text-gray-800">{{ msg.message }}</span>
    </div>
    }
  </div>
  <div class="flex items-center p-4 bg-white rounded-lg shadow-inner mt-auto">
    <form
      class="flex w-full"
      [formGroup]="message_form"
      (submit)="sendMessage()"
    >
      <input
        type="text"
        formControlName="message"
        class="flex-1 p-4 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Type your message..."
      />
      <button
        class="bg-blue-600 text-white p-4 rounded-r-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
        type="submit"
      >
        Send
      </button>
    </form>
  </div>
</div>
} -->
@if(!!RoomId()) {
<div class="flex flex-col h-screen bg-gray-100">
  <div class="flex-none p-4 bg-blue-600 text-white">
    <h1 class="text-xl">Chat Room: {{ RoomId() }}</h1>
  </div>
  <div class="flex-1 overflow-y-auto p-4">
    @for(message of MessagesWithUser(); track $index) {
    <div class="mb-4">
      <div class="text-sm text-gray-500">{{ message.user }}</div>
      <div class="text-lg">{{ message.message }}</div>
    </div>
    }
  </div>
  <div class="flex-none p-4 bg-white border-t border-gray-300">
    <form [formGroup]="message_form" (submit)="sendMessage()" class="flex">
      <input
        type="text"
        formControlName="message"
        class="flex-1 p-2 border border-gray-300 rounded-l"
        placeholder="Type your message..."
      />
      <button
        type="submit"
        class="p-2 bg-blue-600 text-white rounded-r"
        [disabled]="!message_form.valid"
      >
        Send
      </button>
    </form>
  </div>
</div>
}
